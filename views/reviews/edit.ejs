<% layout('layouts/boilerplate') %>

<div class="container mt-5">

    <div class="card shadow-sm mx-auto" style="max-width: 500px; border-radius: 12px;">
        <div class="card-body">

            <h3 class="text-center mb-4 fw-bold">Edit Review</h3>

            <form action="/listings/<%= listingId %>/reviews/<%= review._id %>?_method=PUT" method="POST">

                <!-- Rating -->
                <label class="form-label fw-semibold">Rating</label>
                <select name="review[rating]" class="form-select mb-3" required>
                    <option value="1" <%= review.rating === 1 ? "selected" : "" %>>1 ⭐</option>
                    <option value="2" <%= review.rating === 2 ? "selected" : "" %>>2 ⭐</option>
                    <option value="3" <%= review.rating === 3 ? "selected" : "" %>>3 ⭐</option>
                    <option value="4" <%= review.rating === 4 ? "selected" : "" %>>4 ⭐</option>
                    <option value="5" <%= review.rating === 5 ? "selected" : "" %>>5 ⭐</option>
                </select>

                <!-- // comment :  -->
                <label class="form-label fw-semibold">Comment </label>
                <textarea 
                    name="review[comment]" 
                    class="form-control mb-4"
                    rows="3" 
                    required><%= review.comment %></textarea>

                <!-- Submit -->
                <button class="btn btn-primary w-100 py-2">Update Review</button>

                <!-- Back Link -->
                <a href="/listings/<%= listingId %>" class="btn btn-link w-100 mt-3">
                    <i class="bi bi-arrow-left"></i> Back to Listing
                </a>

            </form>

        </div>
    </div>

</div>
